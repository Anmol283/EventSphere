(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,696871,139505,e=>{"use strict";var t=e.i(145568);let n="anon-id";e.s(["ANON_COOKIE_NAME_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",0,n,"ANON_ID_PREFIX",0,"anon:"],139505);let a="selected-project-id",r="chat-ddmuuc",i="chat-dduc",s="file-tree-size",o="block-view-size",l="console-view-size",c="".concat(l,"-expanded"),d="v0-has-signed-in",u=new Map([["prompt-draft","essential"],[a,"essential"],["v0_ifwr","essential"],["HIDE_SHARE_DISCLAIMER","essential"],[s,"essential"],[o,"essential"],[l,"essential"],[c,"essential"],["anon_session_id","analytics"],["session_referer","analytics"],[i,"essential"],[r,"essential"],[d,"essential"],[t.PREFERRED_LOCALE_COOKIE_NAME,"essential"],[n,"marketing"],["selectedPrompts","essential"]]);e.s(["ALIAS_ERROR_MAP",0,{cert_missing:"Missing certificate",domain_not_found:"Domain not found",cert_expired:"Certificate expired",deployment_not_found:"Deployment not found",gone:"Cannot assign alias to failed deployment",invalid_alias:"Invalid alias",deployment_not_ready:"Deployment is not ready",alias_in_use:"Alias unavailable",forbidden:"Unauthorized","duplicate-team-registration":"Domain already registered on another project",domain_already_in_use:"Domain already in use",missing_domain_verification:"Domain not verified","owned-on-personal-account":"Domain already registered on your personal account","duplicate-user-registration":"Domain already registered on your account","owned-on-other-team":"Domain already registered on another team",domain_taken:"Domain is unavailable"},"ALLOWED_FILE_COUNT",0,{"prompt-attachment":10,"project-source":1e3},"BLOCK_RESIZE_COOKIE",0,o,"CLI_TOKEN_EXPIRATION_MS",0,18e5,"CONSOLE_MIN_SIZE_PX",0,100,"CONSOLE_RESIZE_COOKIE",0,l,"CONTACT_SALES_LINK",0,"https://vercel.com/contact/sales?mode=enterprise-v0&utm_source=v0-chat&utm_campaign=v0_enterprise&utm_medium=message-limit-reached","COOKIE_MAP",0,u,"ChatHistoryViews",0,{All:"all",My:"my"},"DAILY_MODEL_USAGE_LIMIT",0,7,"DEFAULT_BLOCK_SIZE",0,75,"DISMISSED_DAILY_MODEL_USAGE_UPGRADE_CTA_COOKIE",0,r,"DISMISSED_DAILY_UPGRADE_CTA_COOKIE",0,i,"DISMISSED_GENERAL_UPGRADE_CTA_COOKIE",0,"chat-dguc","FILE_TREE_RESIZE_COOKIE",0,s,"FIRST_HIGHLIGHTED_LINE_ID",0,"first-highlighted-line","INITIAL_CONSOLE_SIZE",0,33,"INLINE_BLOCK_TYPES",0,["inline-sql"],"LLM_ERROR_PREFIX",0,"V0CHAT_LLM_ERROR","LLM_ERROR_RETRY_SUFFIX",0,"_RETRY","MAX_COOKIE_AGE",0,0x7fffffff,"MAX_CUSTOM_INSTRUCTIONS_LENGTH",0,2e3,"MAX_PROJECTS_FOR_FREE_USERS",0,2e3,"MAX_PROMPT_LENGTH_TO_ENHANCE",0,1e3,"MAX_SQL_ATTACHMENT_SIZE",0,3072,"MAX_ZIP_UPLOAD_SIZE_MB",0,50,"MINIMUM_CREDITS_TO_SEND_MESSAGE",0,.02,"MIN_PROMPT_LENGTH_TO_ENHANCE",0,10,"OUTPUT_RESIZE_COOKIE",0,"output-resize","OUTPUT_RESIZE_PUBLISHED_COOKIE",0,"output-resize-published","PERSONAL_OPT_OUT_TEAM_IDS",0,["team_RdIh0S66D526Mgfkz9qdqgY1"],"PLAN_SLUG_TO_PLAN_NAME",0,{"v0-level0":"Free","v0-level3":"Premium","v0-team":"Team","v0-enterprise":"Enterprise","v0-platinum":"Ultra"},"PUSHER_EVENTS",0,{latestChat:{getChannelName:e=>"v0-chats-".concat(e),getEventName:()=>"poll-latest-chat"}},"ProjectViews",0,{All:"all",My:"my"},"SCROLL_CONTAINER_ID",0,"scroll-container","SCROLL_INNER_CONTAINER_ID",0,"scroll-inner-container","SELECTED_PROJECT_ID_COOKIE",0,a,"SHOW_DISMISSABLE_UPGRADE_CTA_THRESHOLD_DAILY_MODEL_USAGE",0,4,"SHOW_NON_DISMISSABLE_UPGRADE_CTA_THRESHOLD_DAILY_MODEL_USAGE",0,2,"SHOW_UPGRADE_CTA_THRESHOLD_CREDITS",0,1,"SHOW_UPGRADE_CTA_THRESHOLD_MESSAGES",0,3,"V0_HAS_SIGNED_IN_COOKIE",0,d,"V0_MULTI_FILE_INDICATOR_MAP",0,{"code-project":"[V0_FILE]",local:"[V0_FILE_EDIT]"},"VERCEL_COMMUNITY_V0_SECTION_URL",0,"https://community.vercel.com/c/v0/59"],696871)},53223,e=>{"use strict";var t=e.i(133473);async function n(e){let t={...e,domain:window.location.host,path:window.location.pathname,query_string:window.location.search||null,referer:e.referer||document.referrer||null,browser_width:Math.round(window.innerWidth),browser_height:Math.round(window.innerHeight)},n=await fetch("/chat/api/send",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});n.ok||console.error("Failed to send event to Snowflake",n)}function a(e,t){if(!e||!t)return null!=e?e:"/";let n=e=e.replace(/^\/chat/,"");try{for(let[e,a]of Object.entries(t)){if(!a)continue;let t=Array.isArray(a),r=t?a.join("/"):a,i=t?"...".concat(e):e,s=new RegExp("/".concat(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"(?=[/?#]|$)"));s.test(n)&&(n=n.replace(s,"/[".concat(i,"]")))}return n}catch(t){return e}}function r(e){return e&&0!==Object.keys(e).length?JSON.stringify(e):null}async function i(e){let t={...e,path:window.location.pathname,query_params:window.location.search,referrer:e.referrer||document.referrer,browser_width:Math.round(window.innerWidth),browser_height:Math.round(window.innerHeight)},n=await fetch("/chat/api/send-site",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});n.ok||console.error("Failed to send site-activity to Snowflake",n)}async function s(e,s){var o;let{errorCode:l,errorMsg:c,...d}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.default.env.VITEST)return;if(!(null==(o=window.v0c)?void 0:o.ti))throw Error("No track info found");let{pathname:u,pathParams:p,chatId:g,blockId:f,lastPage:m}={...window.v0c.ti,...d},h=s;c&&(h={...h,error:c.slice(0,1e4)});let z=null;h&&"messageId"in h&&"string"==typeof h.messageId&&(z=h.messageId,delete h.messageId);let _=null;h&&"blockId"in h&&"string"==typeof h.blockId&&(_=h.blockId,delete h.blockId);let v=null;h&&"projectId"in h&&"string"==typeof h.projectId&&(v=h.projectId,delete h.projectId);let y=null;h&&"title"in h&&"string"==typeof h.title&&(y=h.title,delete h.title),await n({action:e,meta:r(h),referer:m,error_code:l?parseInt(l):null,generic_route:a(u,p),call_layer:"client",chat_id:g,message_id:z,block_id:null!=_?_:f}),await i({action:e,meta:r(h),referrer:m,route:a(u,p),project_id:v,page_title:y})}e.s(["track",()=>s],53223)},162061,e=>{"use strict";function t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)e[a]=n[a]}return e}var n=function e(n,a){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=t({},a,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in i)i[o]&&(s+="; "+o,!0!==i[o]&&(s+="="+i[o].split(";")[0]));return document.cookie=e+"="+n.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],a={},r=0;r<t.length;r++){var i=t[r].split("="),s=i.slice(1).join("=");try{var o=decodeURIComponent(i[0]);if(a[o]=n.read(s,o),e===o)break}catch(e){}}return e?a[e]:a}},remove:function(e,n){r(e,"",t({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,t({},this.attributes,n))},withConverter:function(n){return e(t({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});e.s(["default",()=>n])},479273,e=>{"use strict";var t=e.i(832520),n=e.i(200407),a=e.i(162061),r=e.i(480118),i=e.i(145568);e.i(563948);var s=e.i(407562),o=e.i(53223);let l=n.default.createContext({locale:i.DEFAULT_LOCALE,setLocale:async()=>{},localeData:null});e.s(["LocaleContext",0,l,"LocaleProvider",0,e=>{let{locale:c,children:d}=e,u=(0,r.useRouter)(),p={locale:c,setLocale:(0,n.useCallback)(e=>{if((0,o.track)("ChangeLocale",{locale:e}),!i.ISO639_TO_LOCALEINFO[e])return void s.toast.error("Invalid locale: ".concat(e));a.default.set(i.PREFERRED_LOCALE_COOKIE_NAME,e),u.refresh()},[u]),localeData:(0,i.importLocaleData)(c)};return(0,t.jsx)(l.Provider,{value:p,children:d})},"useLocale",0,()=>n.default.useContext(l)])},297239,e=>{"use strict";var t=e.i(200407),n=e.i(167988),a=e.i(479273);function r(){let{localeData:e}=(0,t.useContext)(a.LocaleContext);return(0,t.useCallback)(t=>{let a=null==e?void 0:e[t];return void 0===a?n.FALLBACK_STRING:a},[e])}e.s(["useT",()=>r])},765179,e=>{"use strict";var t,n,a,r,i,s=e.i(133473),o=e.i(832520),l=e.i(200407);class c extends Error{constructor(e,t){var n,a,r,i;e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=null!=(r=this.constructor.type)?r:"AuthError",this.kind=null!=(i=this.constructor.kind)?i:"error",null==(n=(a=Error).captureStackTrace)||n.call(a,this,this.constructor);let s="https://errors.authjs.dev#".concat(this.type.toLowerCase());this.message+="".concat(this.message?". ":"","Read more at ").concat(s)}}class d extends c{}class u extends c{}async function p(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r="".concat(g(t),"/").concat(e);try{var i;let e={headers:{"Content-Type":"application/json",...(null==a||null==(i=a.headers)?void 0:i.cookie)?{cookie:a.headers.cookie}:{}}};(null==a?void 0:a.body)&&(e.body=JSON.stringify(a.body),e.method="POST");let t=await fetch(r,e),n=await t.json();if(!t.ok)throw n;return n}catch(e){return n.error(new d(e.message,e)),null}}function g(e){return"undefined"==typeof window?"".concat(e.baseUrlServer).concat(e.basePathServer):e.basePath}function f(){return Math.floor(Date.now()/1e3)}function m(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e="https://".concat(e));let n=new URL(e||t),a=("/"===n.pathname?t.pathname:n.pathname).replace(/\/$/,""),r="".concat(n.origin).concat(a);return{origin:n.origin,host:n.host,path:a,base:r,toString:()=>r}}let h={baseUrl:m(null!=(n=s.default.env.NEXTAUTH_URL)?n:s.default.env.VERCEL_URL).origin,basePath:m(s.default.env.NEXTAUTH_URL).path,baseUrlServer:m(null!=(r=null!=(a=s.default.env.NEXTAUTH_URL_INTERNAL)?a:s.default.env.NEXTAUTH_URL)?r:s.default.env.VERCEL_URL).origin,basePathServer:m(null!=(i=s.default.env.NEXTAUTH_URL_INTERNAL)?i:s.default.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},z=null;function _(){return new BroadcastChannel("next-auth")}function v(){return"undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{}}:(null===z&&(z=_()),z)}let y={debug:console.debug,error:console.error,warn:console.warn},b=null==(t=l.createContext)?void 0:t.call(l,void 0);async function E(e){var t;let n=await p("session",h,y,e);return(null==(t=null==e?void 0:e.broadcast)||t)&&_().postMessage({event:"session",data:{trigger:"getSession"}}),n}async function S(){var e;let t=await p("csrf",h,y);return null!=(e=null==t?void 0:t.csrfToken)?e:""}async function I(){return p("providers",h,y)}async function R(e,t,n){var a,r,i;let{redirect:s=!0}=null!=t?t:{},o=null!=(r=null!=(a=null==t?void 0:t.redirectTo)?a:null==t?void 0:t.callbackUrl)?r:window.location.href,l=g(h),c=await I();if(!c){window.location.href="".concat(l,"/error");return}if(!e||!(e in c)){window.location.href="".concat(l,"/signin?").concat(new URLSearchParams({callbackUrl:o}));return}let d="credentials"===c[e].type,u="email"===c[e].type,p="".concat(l,"/").concat(d?"callback":"signin","/").concat(e),f=await S(),m=await fetch("".concat(p,"?").concat(new URLSearchParams(n)),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...t,csrfToken:f,callbackUrl:o})}),z=await m.json();if(s||!(d||u)){let e=null!=(i=z.url)?i:o;window.location.href=e,e.includes("#")&&window.location.reload();return}let _=new URL(z.url).searchParams.get("error"),v=new URL(z.url).searchParams.get("code");return m.ok&&await h._getSession({event:"storage"}),{error:_,code:v,status:m.status,ok:m.ok,url:_?null:z.url}}function w(e){if(!b)throw Error("React Context is unavailable in Server Components");let{children:t,basePath:n,refetchInterval:a,refetchWhenOffline:r}=e;n&&(h.basePath=n);let i=void 0!==e.session;h._lastSync=i?f():0;let[s,c]=l.useState(()=>(i&&(h._session=e.session),e.session)),[d,g]=l.useState(!i);l.useEffect(()=>(h._getSession=async function(){let{event:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t="storage"===e;if(t||void 0===h._session){h._lastSync=f(),h._session=await E({broadcast:!t}),c(h._session);return}if(!e||null===h._session||f()<h._lastSync)return;h._lastSync=f(),h._session=await E(),c(h._session)}catch(e){y.error(new u(e.message,e))}finally{g(!1)}},h._getSession(),()=>{h._lastSync=0,h._session=void 0,h._getSession=()=>{}}),[]),l.useEffect(()=>{let e=()=>h._getSession({event:"storage"});return v().addEventListener("message",e),()=>v().removeEventListener("message",e)},[]),l.useEffect(()=>{let{refetchOnWindowFocus:t=!0}=e,n=()=>{t&&"visible"===document.visibilityState&&h._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",n,!1),()=>document.removeEventListener("visibilitychange",n,!1)},[e.refetchOnWindowFocus]);let m=function(){let[e,t]=l.useState("undefined"!=typeof navigator&&navigator.onLine),n=()=>t(!0),a=()=>t(!1);return l.useEffect(()=>(window.addEventListener("online",n),window.addEventListener("offline",a),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}),[]),e}(),z=!1!==r||m;l.useEffect(()=>{if(a&&z){let e=setInterval(()=>{h._session&&h._getSession({event:"poll"})},1e3*a);return()=>clearInterval(e)}},[a,z]);let _=l.useMemo(()=>({data:s,status:d?"loading":s?"authenticated":"unauthenticated",async update(e){if(d)return;g(!0);let t=await p("session",h,y,void 0===e?void 0:{body:{csrfToken:await S(),data:e}});return g(!1),t&&(c(t),v().postMessage({event:"session",data:{trigger:"getSession"}})),t}}),[s,d]);return(0,o.jsx)(b.Provider,{value:_,children:t})}e.s(["SessionProvider",()=>w,"signIn",()=>R],765179)},912106,e=>{"use strict";var t=e.i(692990);e.s(["mutate",()=>t.k])},323194,e=>{"use strict";var t=e.i(832520),n=e.i(200407),a=e.i(176248),r=e.i(162061),i=e.i(346970),s=e.i(912106),o=e.i(686832),l=e.i(480118),c=e.i(696871),d=e.i(299313),u=e.i(707827),p=e.i(304649),g=e.i(297239),f=e.i(765179);e.i(168204);var m=e.i(225695);function h(){let e=(0,l.usePathname)(),{data:t,mutate:a}=(0,i.default)("showSignInDialog"),s=(0,i.default)(c.V0_HAS_SIGNED_IN_COOKIE,()=>"1"===r.default.get(c.V0_HAS_SIGNED_IN_COOKIE),{fallbackData:null}).data,[o,d]=(0,n.useState)(new URLSearchParams);return(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=new URLSearchParams;for(let n of["gclid","utm_source","utm_medium","utm_campaign","utm_content","utm_term"]){let a=e.get(n);a&&t.append(n,a)}d(t)},[]),{showSignInDialog:t,setShowSignInDialog:a,hasSignedIn:s,get loginUrl(){let n=new URLSearchParams,a=e?(0,p.stripVariantParams)(e):"/",r=new URLSearchParams;{let e=new URLSearchParams(window.location.search).get("premium");null!==e&&r.set("premium",e)}for(let e of((null==t?void 0:t.content)&&r.set("q",(0,m.stringifyMessageContent)(t.content,{filterTypes:["mdx"]})),(null==t?void 0:t.forkBlockId)&&r.set("forkBlockId",t.forkBlockId),(null==t?void 0:t.attachments)||[]))r.append("attachments",e);return t&&r.size>0&&(a+="?".concat(r.toString())),n.append("next",a),n.append("qs",o.toString()),"/api/auth/login?".concat(n.toString())}}}function z(e){return(0,s.mutate)("showSignInDialog",!1===e?void 0:e)}function _(e){let{variant:n,action:r,isLoading:i,setIsLoading:s,loginUrl:o}=e,l=i===r,c=(0,g.useT)();return l?(0,t.jsxs)(a.Button,{disabled:!0,variant:n,children:[i===r?(0,t.jsx)(u.Spinner,{}):null,c("login"===r?"signInDialog.authSignin":"signInDialog.authSignup")]}):(0,t.jsxs)("a",{className:(0,p.cn)((0,a.buttonVariants)({variant:n}),"w-full"),href:"signup"===r?"".concat(o,"&action=signup"):o,onClick:()=>s(r),children:[i===r?(0,t.jsx)(u.Spinner,{}):null,c("login"===r?"signInDialog.authSignin":"signInDialog.authSignup")]})}function v(){let[e,r]=(0,n.useState)(!1),i=(0,g.useT)();return(0,t.jsxs)(a.Button,{onClick:()=>{r(!0),(0,f.signIn)("vercel")},disabled:e,children:[e?(0,t.jsx)(u.Spinner,{}):null,i("signInDialog.authConnect")]})}function y(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(document.cookie.includes("use_oauth_login=true"))},[]),e}function b(e){let{...a}=e,{showSignInDialog:r,setShowSignInDialog:i,loginUrl:s,hasSignedIn:l}=h(),[c,u]=(0,n.useState)(!1),p=(0,g.useT)();return(0,t.jsxs)(o.Modal,{className:"mb-4 md:mb-0 [&[modal-dialog]]:max-w-[500px]",onOpenChange:e=>{e||i(void 0)},open:void 0!==r,showDrawerHandle:!1,...a,"data-testid":"sign-in-dialog",children:[(0,t.jsx)("div",{className:"text-foreground flex items-center justify-center pb-2 pt-8",children:(0,t.jsxs)("div",{className:"width-[154px] relative flex h-[76px] items-center justify-center gap-2",children:[(0,t.jsx)(d.default,{alt:"Sign in to v0",className:"select-none dark:hidden",height:76,priority:!0,src:"/chat-static/sign-in-visual.svg",width:154}),(0,t.jsx)(d.default,{alt:"Sign in to v0",className:"hidden select-none dark:block",height:76,priority:!0,src:"/chat-static/sign-in-visual-dark.svg",width:154})]})}),(0,t.jsxs)(o.ModalHeader,{className:"justify-center text-center",children:[(0,t.jsx)(o.ModalTitle,{children:p("signInDialog.continueWithVercel")}),(0,t.jsx)(o.ModalDescription,{className:"text-gray-500",children:(null==r?void 0:r.customMessage)||(l?p("signInDialog.signIntoVercel")():p("signInDialog.createAccount")())})]}),(0,t.jsx)(o.ModalFooter,{className:"flex w-full flex-col gap-3 md:flex-col",children:y()?(0,t.jsx)(v,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{action:"signup",isLoading:c,loginUrl:s,setIsLoading:u,variant:"default"}),(0,t.jsx)(_,{action:"login",isLoading:c,loginUrl:s,setIsLoading:u,variant:"secondary"})]})})]})}e.s(["SignInDialog",()=>b,"mutateSignInDialog",()=>z,"useOAuthLoginEnabled",()=>y,"useSignInDialog",()=>h])},32170,e=>{"use strict";var t=e.i(832520),n=e.i(765179),a=e.i(200407),r=e.i(323194);let i=(0,a.createContext)({user:null,setUser:()=>{},expectUser:!1});function s(e){let{children:a}=e;return(0,r.useOAuthLoginEnabled)()?(0,t.jsx)(n.SessionProvider,{children:a}):a}e.s(["FutureUserProvider",()=>s,"UserProvider",0,e=>{var n;let{children:r,expectUser:s,userPromise:o}=e,l=s&&null!=(n=(0,a.use)(o))?n:null,[c,d]=(0,a.useState)(l);return(0,a.useEffect)(()=>{o.then(e=>(0,a.startTransition)(()=>d(null!=e?e:null)))},[o]),(0,t.jsx)(i.Provider,{value:{user:c,expectUser:s,setUser:d},children:r})},"useUser",0,()=>(0,a.use)(i)])},563948,e=>{"use strict";e.i(407562),e.s([])},645751,e=>{"use strict";var t=new WeakMap,n=new WeakMap,a={},r=0,i=function(e){return e&&(e.host||i(e.parentNode))},s=function(e,s,o,l){var c=(Array.isArray(e)?e:[e]).map(function(e){if(s.contains(e))return e;var t=i(e);return t&&s.contains(t)?t:(console.error("aria-hidden",e,"in not contained inside",s,". Doing nothing"),null)}).filter(function(e){return!!e});a[o]||(a[o]=new WeakMap);var d=a[o],u=[],p=new Set,g=new Set(c),f=function(e){!e||p.has(e)||(p.add(e),f(e.parentNode))};c.forEach(f);var m=function(e){!e||g.has(e)||Array.prototype.forEach.call(e.children,function(e){if(p.has(e))m(e);else try{var a=e.getAttribute(l),r=null!==a&&"false"!==a,i=(t.get(e)||0)+1,s=(d.get(e)||0)+1;t.set(e,i),d.set(e,s),u.push(e),1===i&&r&&n.set(e,!0),1===s&&e.setAttribute(o,"true"),r||e.setAttribute(l,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return m(s),p.clear(),r++,function(){u.forEach(function(e){var a=t.get(e)-1,r=d.get(e)-1;t.set(e,a),d.set(e,r),a||(n.has(e)||e.removeAttribute(l),n.delete(e)),r||e.removeAttribute(o)}),--r||(t=new WeakMap,t=new WeakMap,n=new WeakMap,a={})}},o=function(e,t,n){void 0===n&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),r=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return r?(a.push.apply(a,Array.from(r.querySelectorAll("[aria-live]"))),s(a,r,n,"aria-hidden")):function(){return null}};e.s(["hideOthers",()=>o])},12388,e=>{"use strict";var t=e.i(200407),n=e.i(551150),a=e.i(662603),r=e.i(423311),i=e.i(838307),s=e.i(256846),o=e.i(401269),l=e.i(547743),c=e.i(130700),d=e.i(672160),u=e.i(510508),p=e.i(523489),g=e.i(579559),f=e.i(645751),m=e.i(415631),h=e.i(832520),z="Dialog",[_,v]=(0,r.createContextScope)(z),[y,b]=_(z),E=e=>{let{__scopeDialog:n,children:a,open:r,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=t.useRef(null),u=t.useRef(null),[p=!1,g]=(0,s.useControllableState)({prop:r,defaultProp:o,onChange:l});return(0,h.jsx)(y,{scope:n,triggerRef:d,contentRef:u,contentId:(0,i.useId)(),titleId:(0,i.useId)(),descriptionId:(0,i.useId)(),open:p,onOpenChange:g,onOpenToggle:t.useCallback(()=>g(e=>!e),[g]),modal:c,children:a})};E.displayName=z;var S="DialogTrigger",I=t.forwardRef((e,t)=>{let{__scopeDialog:r,...i}=e,s=b(S,r),o=(0,a.useComposedRefs)(t,s.triggerRef);return(0,h.jsx)(u.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":K(s.open),...i,ref:o,onClick:(0,n.composeEventHandlers)(e.onClick,s.onOpenToggle)})});I.displayName=S;var R="DialogPortal",[w,N]=_(R,{forceMount:void 0}),j=e=>{let{__scopeDialog:n,forceMount:a,children:r,container:i}=e,s=b(R,n);return(0,h.jsx)(w,{scope:n,forceMount:a,children:t.Children.map(r,e=>(0,h.jsx)(d.Presence,{present:a||s.open,children:(0,h.jsx)(c.Portal,{asChild:!0,container:i,children:e})}))})};j.displayName=R;var A="DialogOverlay",O=t.forwardRef((e,t)=>{let n=N(A,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,i=b(A,e.__scopeDialog);return i.modal?(0,h.jsx)(d.Presence,{present:a||i.open,children:(0,h.jsx)(C,{...r,ref:t})}):null});O.displayName=A;var C=t.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=b(A,n);return(0,h.jsx)(g.RemoveScroll,{as:m.Slot,allowPinchZoom:!0,shards:[r.contentRef],children:(0,h.jsx)(u.Primitive.div,{"data-state":K(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),T="DialogContent",x=t.forwardRef((e,t)=>{let n=N(T,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,i=b(T,e.__scopeDialog);return(0,h.jsx)(d.Presence,{present:a||i.open,children:i.modal?(0,h.jsx)(L,{...r,ref:t}):(0,h.jsx)(D,{...r,ref:t})})});x.displayName=T;var L=t.forwardRef((e,r)=>{let i=b(T,e.__scopeDialog),s=t.useRef(null),o=(0,a.useComposedRefs)(r,i.contentRef,s);return t.useEffect(()=>{let e=s.current;if(e)return(0,f.hideOthers)(e)},[]),(0,h.jsx)(k,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.composeEventHandlers)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=i.triggerRef.current)||t.focus()}),onPointerDownOutside:(0,n.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:(0,n.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),D=t.forwardRef((e,n)=>{let a=b(T,e.__scopeDialog),r=t.useRef(!1),i=t.useRef(!1);return(0,h.jsx)(k,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,s;null==(n=e.onCloseAutoFocus)||n.call(e,t),t.defaultPrevented||(r.current||null==(s=a.triggerRef.current)||s.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var n,s;null==(n=e.onInteractOutside)||n.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let o=t.target;(null==(s=a.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),k=t.forwardRef((e,n)=>{let{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:c,...d}=e,u=b(T,r),g=t.useRef(null),f=(0,a.useComposedRefs)(n,g);return(0,p.useFocusGuards)(),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:c,children:(0,h.jsx)(o.DismissableLayer,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":K(u.open),...d,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(q,{titleId:u.titleId}),(0,h.jsx)(W,{contentRef:g,descriptionId:u.descriptionId})]})]})}),P="DialogTitle",U=t.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=b(P,n);return(0,h.jsx)(u.Primitive.h2,{id:r.titleId,...a,ref:t})});U.displayName=P;var M="DialogDescription",F=t.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=b(M,n);return(0,h.jsx)(u.Primitive.p,{id:r.descriptionId,...a,ref:t})});F.displayName=M;var H="DialogClose",B=t.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,i=b(H,a);return(0,h.jsx)(u.Primitive.button,{type:"button",...r,ref:t,onClick:(0,n.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function K(e){return e?"open":"closed"}B.displayName=H;var V="DialogTitleWarning",[G,X]=(0,r.createContext)(V,{contentName:T,titleName:P,docsSlug:"dialog"}),q=e=>{let{titleId:n}=e,a=X(V),r="`".concat(a.contentName,"` requires a `").concat(a.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(a.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(a.docsSlug);return t.useEffect(()=>{n&&(document.getElementById(n)||console.error(r))},[r,n]),null},W=e=>{let{contentRef:n,descriptionId:a}=e,r=X("DialogDescriptionWarning"),i="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return t.useEffect(()=>{var e;let t=null==(e=n.current)?void 0:e.getAttribute("aria-describedby");a&&t&&(document.getElementById(a)||console.warn(i))},[i,n,a]),null};e.s(["Close",()=>B,"Content",()=>x,"Description",()=>F,"Overlay",()=>O,"Portal",()=>j,"Root",()=>E,"Title",()=>U,"Trigger",()=>I])},686832,e=>{"use strict";var t=e.i(832520),n=e.i(200407),a=e.i(304649),r=e.i(12388),i=e.i(833114),s=e.i(70165);let o=e=>{let{className:n,children:r,...i}=e;return(0,t.jsx)("div",{className:(0,a.cn)("relative grid gap-3 p-3 md:p-6 [&+_[modal-body]]:pt-0",n),"modal-header":"",...i,children:r})};o.displayName="ModalHeader";let l=n.forwardRef((e,n)=>{let{className:r,...i}=e;return(0,t.jsx)("div",{className:(0,a.cn)("p-3 md:p-6",r),"modal-body":"",...i,ref:n})});l.displayName="ModalContent";let c=e=>{let{className:n,...r}=e;return(0,t.jsx)("div",{className:(0,a.cn)("flex flex-col-reverse gap-2 p-3 sm:flex-row sm:justify-end md:p-4",n),"modal-footer":"",...r})};c.displayName="ModalFooter";let d=n.forwardRef((e,n)=>{let{className:i,...s}=e;return(0,t.jsx)(r.Title,{className:(0,a.cn)("text-heading-16 sm:text-heading-20",i),ref:n,...s})});d.displayName=r.Title.displayName;let u=n.forwardRef((e,n)=>{let{className:i,...s}=e;return(0,t.jsx)(r.Description,{className:(0,a.cn)("text-label-14 text-gray-500",i),ref:n,...s})});u.displayName=r.Description.displayName;let p=n.forwardRef((e,n)=>{let{className:o,children:l,trigger:c,responsive:d=!0,showDrawerHandle:u=!0,open:p,onOpenChange:g,defaultOpen:f,onClose:m,...h}=e;return(0,s.useIsMobile)()&&d?(0,t.jsxs)(i.Drawer.Root,{onClose:m,onOpenChange:g,open:p,shouldScaleBackground:!0,children:[(0,t.jsx)(i.Drawer.Trigger,{asChild:!0,children:c}),(0,t.jsxs)(i.Drawer.Portal,{children:[(0,t.jsx)(i.Drawer.Overlay,{className:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 bg-alpha-700 dark:bg-alpha-900 fixed inset-0 z-50"}),(0,t.jsxs)(i.Drawer.Content,{className:(0,a.cn)("shadow-modal bg-background fixed inset-x-0 bottom-0 z-50 flex h-auto max-h-[80%] flex-col gap-2 rounded-t-xl outline-hidden [&_[modal-header]]:text-center",u?"pt-[22px] has-[>_img]:pt-0":"",o),"modal-drawer":"",...h,ref:n,children:[u&&(0,t.jsx)("div",{className:"absolute inset-x-0 top-0 flex items-center justify-center py-2 after:h-1.5 after:w-14 after:rounded-full after:bg-gray-300 md:hidden","modal-handle":""}),(0,t.jsx)("div",{className:"overflow-auto",children:l})]})]})]}):(0,t.jsxs)(r.Root,{defaultOpen:f,onOpenChange:g,open:p,children:[(0,t.jsx)(r.Trigger,{asChild:!0,children:c}),(0,t.jsxs)(r.Portal,{children:[(0,t.jsx)(r.Overlay,{className:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 bg-alpha-700 dark:bg-alpha-900 fixed inset-0 z-50"}),(0,t.jsx)(r.Content,{className:(0,a.cn)("shadow-modal bg-background fixed left-[50%] top-[50%] z-50 w-full max-w-[90%] translate-x-[-50%] translate-y-[-50%] overflow-hidden rounded-xl text-gray-900 outline-hidden duration-200 md:w-[540px] [&_[modal-handle]]:hidden","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",o),"modal-dialog":"",...h,ref:n,children:l})]})]})});p.displayName=r.Content.displayName;let g=r.Close,f=r.Trigger;e.s(["Modal",()=>p,"ModalClose",()=>g,"ModalContent",()=>l,"ModalDescription",()=>u,"ModalFooter",()=>c,"ModalHeader",()=>o,"ModalOpen",()=>f,"ModalTitle",()=>d])},23474,e=>{"use strict";e.i(931605);var t=e.i(92702);e.s(["z",0,t])},168204,44337,225695,e=>{"use strict";var t=e.i(723900);e.i(541536);var n=e.i(23474);let a=new Map([["Supabase",["SUPABASE_URL","SUPABASE_SERVICE_ROLE_KEY","SUPABASE_ANON_KEY","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY"]],["Neon",["DATABASE_URL"]],["Upstash for Redis",["KV_REST_API_URL","KV_REST_API_TOKEN"]],["Blob",["BLOB_READ_WRITE_TOKEN"]],["Groq",["GROQ_API_KEY"]],["Grok",["XAI_API_KEY"]],["fal",["FAL_KEY"]],["Deep Infra",["DEEPINFRA_API_KEY"]]]),r=["Supabase","Neon"],i=new Map([["Supabase",["POSTGRES_URL","DATABASE_URL","SUPABASE_URL"]],["Neon",["POSTGRES_URL","DATABASE_URL"]]]);Array.from(a.keys()),n.z.object({type:n.z.enum(["add-integration","run-script","add-env-var","run-action"]),stepName:n.z.string()});let s=n.z.object({type:n.z.enum(["add-integration","add-env-var"]),stepName:n.z.string()}),o=n.z.object({name:n.z.string(),instanceName:n.z.string(),status:n.z.enum(["connected","not_connected"]),schema:n.z.object({type:n.z.literal("database"),tableCount:n.z.number(),tables:n.z.array(n.z.object({schema:n.z.string(),name:n.z.string(),columns:n.z.array(n.z.object({name:n.z.string(),type:n.z.string()}))}))}).optional(),otherInfo:n.z.array(n.z.string()).optional()}),l=new Map([["Supabase",["@supabase/supabase-js","@supabase/ssr"]],["Neon",["@neondatabase/serverless"]],["Upstash for Redis",["@upstash/redis"]],["Blob",["@vercel/blob"]],["Groq",["@ai-sdk/groq"]],["Grok",["@ai-sdk/xai"]],["fal",["@ai-sdk/fal","@fal-ai/serverless-client"]],["Deep Infra",["@ai-sdk/deepinfra"]]]);e.s(["INTEGRATION_NAME_TO_ENV_VARS",0,a,"INTEGRATION_NAME_TO_SOURCE_TEXT",0,l,"IntegrationEnvStepCardSchema",0,s,"IntegrationStatusSchema",0,o,"SQL_EXEC_PROVIDERS_TO_EXECUTION_ENV",0,i,"isSqlExecProviderName",0,e=>r.includes(e)],44337);let c=n.z.object({type:n.z.literal("mdx"),content:n.z.string()}),d=n.z.object({type:n.z.literal("parse-error")}),u=n.z.array(n.z.object({status:n.z.enum(["todo","in-progress","done"]).describe("The status of the todo item"),task:n.z.string().describe("The task description")})),p=n.z.object({url:n.z.string().describe("The URL of the citation"),favicon:n.z.string().nullable().describe("The favicon of the citation"),image:n.z.string().nullable().describe("An image associated with the citation"),title:n.z.string().nullable().describe("The title of the citation"),publishedDate:n.z.string().nullable().describe("The published date of the citation")}),g={createdAt:n.z.number(),finishedAt:n.z.number().nullable(),lastPartSentAt:n.z.number().nullable(),taskNameActive:n.z.string().nullish(),taskNameComplete:n.z.string().nullish(),error:n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("INPUT_SCHEMA_ERROR"),flattenedError:n.z.record(n.z.string(),n.z.any())}),n.z.object({type:n.z.literal("HANDLED_EXECUTION_ERROR"),message:n.z.string(),code:n.z.enum(["GENERIC_ERROR"])}),n.z.object({type:n.z.literal("UNHANDLED_EXECUTION_ERROR")})]).optional(),id:n.z.string(),llmContent:n.z.array(n.z.discriminatedUnion("type",[n.z.object({type:n.z.literal("text"),text:n.z.string()}),n.z.object({type:n.z.literal("image"),url:n.z.string()})])).nullish()};function f(e){let{taskName:t,version:a,parts:r}=e;return n.z.object({...g,type:n.z.literal("task-".concat(t,"-").concat(a)),parts:n.z.array(n.z.discriminatedUnion("type",[...r,d]).catch({type:"parse-error"}))})}let m=n.z.discriminatedUnion("type",[f({taskName:"thinking",version:"v1",parts:[n.z.object({type:n.z.literal("thinking-end"),duration:n.z.number(),thought:n.z.string()})]}),f({taskName:"start",version:"v1",parts:[n.z.object({type:n.z.literal("launch-tasks")})]}),f({taskName:"repaired-parser-content",version:"v1",parts:[n.z.object({type:n.z.literal("bad-thinking-content"),content:n.z.string()}),n.z.object({type:n.z.literal("bad-text-content"),content:n.z.string()})]}),f({taskName:"stopped",version:"v1",parts:[n.z.object({type:n.z.literal("manually-stopped-on-client")}),n.z.object({type:n.z.literal("out-of-credits")}),n.z.object({type:n.z.literal("orchestrator-invocations-exhausted"),invocations:n.z.number()}),n.z.object({type:n.z.literal("subagent-invocations-exhausted"),invocations:n.z.number()}),n.z.object({type:n.z.literal("agent-timeout")}),n.z.object({type:n.z.literal("orchestrator-error")})]}),f({taskName:"diagnostics",version:"v1",parts:[n.z.object({type:n.z.literal("diagnostic-invocations-exhausted")}),n.z.object({type:n.z.literal("fetching-diagnostics")}),n.z.object({type:n.z.literal("diagnostics-passed")}),n.z.object({type:n.z.literal("diagnostics-found-issues"),summaries:n.z.array(n.z.string())})]}),f({taskName:"coding",version:"v1",parts:[n.z.object({type:n.z.literal("code-project"),isVersioned:n.z.boolean(),changedFiles:n.z.array(n.z.object({fileName:n.z.string(),baseName:n.z.string(),isActive:n.z.boolean(),isTerminated:n.z.boolean(),isDeleted:n.z.boolean(),isMoved:n.z.boolean()})),latestDeploymentInfo:n.z.any(),sourceVersionKey:n.z.string().optional(),lastDeployedAt:n.z.string().optional(),lastEditedAt:n.z.string().optional(),needsBlockSource:n.z.boolean(),blockId:n.z.string(),meta:n.z.record(n.z.string(),n.z.any()),closed:n.z.boolean(),lang:n.z.string(),source:n.z.string()})]}),f({taskName:"fetch-from-web",version:"v1",parts:[n.z.object({type:n.z.literal("starting-fetch-from-web"),url:n.z.string()}),n.z.object({type:n.z.literal("finished-fetch-from-web"),url:n.z.string(),favicon:n.z.string().nullable(),image:n.z.string().nullable(),title:n.z.string().nullable(),publishedDate:n.z.string().nullable()})]}),f({taskName:"inspect-site",version:"v1",parts:[n.z.object({type:n.z.literal("starting-inspect-site"),url:n.z.string()}),n.z.object({type:n.z.literal("skipping-inspect-site"),reason:n.z.string()}),n.z.object({type:n.z.literal("screenshot"),screenshotUrl:n.z.string().nullish(),url:n.z.string(),path:n.z.string().nullish(),pageTitle:n.z.string().nullish(),logoUrl:n.z.string().nullish()}),n.z.object({type:n.z.literal("inspect-site-complete"),screenshotResults:n.z.array(n.z.object({type:n.z.literal("screenshot"),screenshotUrl:n.z.string().nullish(),height:n.z.number().nullish(),width:n.z.number().nullish(),title:n.z.string().nullish()}))})]}),f({taskName:"search-web",version:"v1",parts:[n.z.object({type:n.z.literal("starting-web-search"),query:n.z.string()}),n.z.object({type:n.z.literal("got-results"),count:n.z.number()}),n.z.object({type:n.z.literal("failed-web-search")}),n.z.object({type:n.z.literal("finished-web-search"),answer:n.z.string(),citations:n.z.array(p)})]}),f({taskName:"manage-todos",version:"v1",parts:[n.z.object({type:n.z.literal("starting-todo-manager")}),n.z.object({type:n.z.literal("updated-todo-list"),updatedList:u}),n.z.object({type:n.z.literal("read-todo-list")}),n.z.object({type:n.z.literal("generated-technical-plan"),plan:n.z.string()})]}),f({taskName:"read-file",version:"v1",parts:[n.z.object({type:n.z.literal("starting-search-in-file"),query:n.z.string()}),n.z.object({type:n.z.literal("grepping-file"),pattern:n.z.string()}),n.z.object({type:n.z.literal("selected-chunks"),chunks:n.z.array(n.z.object({filePath:n.z.string(),offset:n.z.number(),limit:n.z.number()}))}),n.z.object({type:n.z.literal("grep-results"),numMatches:n.z.number(),pattern:n.z.string(),isInvalidPattern:n.z.boolean().optional()}),n.z.object({type:n.z.literal("reading-file"),filePath:n.z.string(),offset:n.z.number().nullish(),limit:n.z.number().nullish()})]}),f({taskName:"search-repo",version:"v1",parts:[n.z.object({type:n.z.literal("starting-repo-search"),query:n.z.string()}),n.z.object({type:n.z.literal("ls"),path:n.z.string().optional()}),n.z.object({type:n.z.literal("ls-results"),numFiles:n.z.number()}),n.z.object({type:n.z.literal("grepping-repo"),pattern:n.z.string(),path:n.z.string().optional(),globPattern:n.z.string().optional()}),n.z.object({type:n.z.literal("grep-results"),numMatches:n.z.number(),pattern:n.z.string()}),n.z.object({type:n.z.literal("grep-file-results"),numFileMatches:n.z.number(),isInvalidPattern:n.z.boolean().optional()}),n.z.object({type:n.z.literal("select-files"),filePaths:n.z.array(n.z.string())}),n.z.object({type:n.z.literal("reading-file"),filePath:n.z.string(),offset:n.z.number().nullish(),limit:n.z.number().nullish()}),n.z.object({type:n.z.literal("repo-search-result"),query:n.z.string(),result:n.z.string()})]}),f({taskName:"run-shell-command",version:"v1",parts:[n.z.object({type:n.z.literal("starting-shell-command"),command:n.z.string(),directory:n.z.string().nullish(),description:n.z.string().nullish()}),n.z.object({type:n.z.literal("finished-shell-command"),output:n.z.string(),exitCode:n.z.number(),backgroundPids:n.z.array(n.z.number()),directory:n.z.string().nullish(),command:n.z.string()})]}),f({taskName:"read-files",version:"v1",parts:[n.z.object({type:n.z.literal("starting-read-files"),filePaths:n.z.array(n.z.string())}),n.z.object({type:n.z.literal("finished-read-files"),fileContents:n.z.record(n.z.string(),n.z.string())})]}),f({taskName:"generate-design-inspiration",version:"v1",parts:[n.z.object({type:n.z.literal("starting-design-inspiration"),prompt:n.z.string()}),n.z.object({type:n.z.literal("finished-design-inspiration"),enhancedPrompt:n.z.string().optional()})]}),f({taskName:"get-or-request-integration",version:"v1",parts:[n.z.object({type:n.z.literal("starting-integration-status-check")}),n.z.object({type:n.z.literal("request-install-integration"),steps:n.z.array(s)}),n.z.object({type:n.z.literal("finished-integration-status-check"),integrations:n.z.array(o),envVars:n.z.array(n.z.string())})]})]),h=n.z.discriminatedUnion("type",[c,d,n.z.object({type:n.z.literal("launch-tasks"),tasks:n.z.array(n.z.object({name:n.z.string(),taskNameActive:n.z.string().nullish(),taskNameComplete:n.z.string().nullish(),inputRaw:n.z.string()}))}),n.z.object({type:n.z.literal("turn-start")}),n.z.object({type:n.z.literal("turn-reset")}),n.z.object({type:n.z.literal("turn-finish")}),n.z.object({type:n.z.literal("agent-finish")}),...m.options]),z=m.options.map(e=>e.shape.type.value),_=n.z.object({type:n.z.literal("refinement-element"),file:n.z.string(),componentName:n.z.string().optional(),sourceContext:n.z.string(),line:n.z.number(),column:n.z.number()}),v=n.z.discriminatedUnion("type",[d,_,n.z.object({type:n.z.literal("mention-file"),filePath:n.z.string()}),n.z.object({type:n.z.literal("mention-url"),url:n.z.string()}),n.z.object({type:n.z.literal("hidden-context"),context:n.z.string()}),n.z.object({type:n.z.literal("confirmed-steps"),connectedIntegrationNames:n.z.array(n.z.string()),appliedScripts:n.z.array(n.z.string()),addedEnvVars:n.z.array(n.z.string())}),n.z.object({type:n.z.literal("mention-directory"),directoryPath:n.z.string()})]),y=n.z.discriminatedUnion("type",[c,...v.options]),b=y.options.map(e=>e.shape.type.value),E=v.options.map(e=>e.shape.type.value);function S(e){return b.includes(e.type)}function I(e){return E.includes(e)}let R=n.z.discriminatedUnion("type",[...h.options,...y.options.filter(e=>"mdx"!==e.shape.type.value&&"parse-error"!==e.shape.type.value)]),w=n.z.object({version:n.z.literal(1),parts:n.z.array(R.catch({type:"parse-error"}))}),N="AssistantMessageContentPart",j="V0LaunchTasks",A=e=>{let t="<".concat(j,">\n");for(let n of e)t+="<".concat("V0Task",'\n  name="').concat(n.name,'"\n  taskNameActive="').concat(n.taskNameActive||"",'"\n  taskNameComplete="').concat(n.taskNameComplete||"",'"\n  input={').concat(n.inputRaw,"}\n/>");return t+"\n</".concat(j,">")};e.s(["AssistantMessagePartTagName",0,N,"MessageContentServer",0,w,"UserMessageContentRichPart",0,v,"createMDXMessageContent",0,e=>({version:1,parts:[{type:"mdx",content:e}]}),"isUserMessageContentPart",()=>S,"isUserMessageContentRichPartType",()=>I,"stringifyMessageContent",0,(e,n)=>{let a="";for(let r of(null==e?void 0:e.parts)||[]){let e=r.type;if(null==n||!n.filterTypes||n.filterTypes.includes(e))switch(e){case"confirmed-steps":let i=r.connectedIntegrationNames.length>0||r.appliedScripts.length>0||r.addedEnvVars.length>0;for(let e of r.connectedIntegrationNames)a+=" @connected-integration(".concat(e,") ");for(let e of r.appliedScripts)a+=" @applied-script(".concat(e,") ");for(let e of r.addedEnvVars)a+=" @added-env-var(".concat(e,") ");i?a+="\n\nPlease check the integration status to understand the setup. Then continue.":a+="I have chosen to not add any integrations or env vars, as well as not applying any scripts. Please continue.";break;case"mdx":a+=r.content;break;case"parse-error":break;case"mention-file":a+="@file(".concat(r.filePath,")");break;case"hidden-context":a+="<v0_system_context>".concat(r.context,"</v0_system_context>");break;case"refinement-element":let{file:s,componentName:o,sourceContext:l}=r;a+="<user_request_context>\n\nUser's request is specifically about the file \"".concat(s,'" and the ').concat(o?'"'.concat(o,'" element'):"element"," at this specific position (including its inner content, too):\n\n```\n").concat(l,"\n```\n\nPlease apply a Quick Edit to this file and make the necessary changes.\n\n</user_request_context>");break;case"mention-directory":a+="@directory(".concat(r.directoryPath,")");break;case"mention-url":a+="@web-fetch(".concat(r.url,")");break;case"turn-start":case"turn-reset":case"turn-finish":case"agent-finish":a+="";break;case"launch-tasks":(null==n?void 0:n.isParsing)?a+="":a+=A(r.tasks);break;default:if(z.includes(e)){if(!(null==n?void 0:n.isParsing))break;let{llmContent:e,...i}=r,s=t.Buffer.from(JSON.stringify(i)).toString("base64");a+="\n\n<".concat(N,' partEncoded="').concat(s,'" />\n\n');break}return e}}return!a&&(null==n?void 0:n.defaultValue)&&(a=n.defaultValue),a}],225695),e.s([],168204)}]);